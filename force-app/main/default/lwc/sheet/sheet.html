<template>
    <template if:true={sheet}>
        <div class="dice-list">
            <template for:each={diceList} for:item="dice">
                <c-dice
                    key={dice.order}
                    value={dice.value}
                    order={dice.order}
                    all-dice-disabled={allDiceDisabled}
                    ondiceclick={handleDiceClick}>
                </c-dice>
            </template>
        </div>
        <div class="form slds-card">
            <div class="first-column">
                <!-- TOP SECTION -->
                <c-label value="1" help-text="Number of ones"></c-label>
                <c-label value="2" help-text="Number of twos"></c-label>
                <c-label value="3" help-text="Number of threes"></c-label>
                <c-label value="4" help-text="Number of fours"></c-label>
                <c-label value="5" help-text="Number of fives"></c-label>
                <c-label value="6" help-text="Number of sixes"></c-label>
                <c-label value="(1-6)"></c-label>
                <!-- MIDDLE SECTION -->
                <c-label value="Max" help-text="Sum of all dice"></c-label>
                <c-label value="Min" help-text="Sum of all dice"></c-label>
                <c-label value="∆ x 1s"></c-label>
                <!-- BOTTOM SECTION -->
                <c-label value="Trips" help-text="Three of a kind"></c-label>
                <c-label value="Straight" help-text="Five consecutive numbers"></c-label>
                <c-label value="Boat" help-text="Three of a kind and two of a kind"></c-label>
                <c-label value="Carriage" help-text="Four of a kind"></c-label>
                <c-label value="Yamb" help-text="Five of a kind"></c-label>
                <c-label value="Σ"></c-label>
            </div>
            <template for:each={columnList} for:item="column">
                <c-column class="column" 
                    key={column.typeString} 
                    type-string={column.typeString} 
                    box-list={column.boxList} 
                    top-section-sum={column.topSectionSum} 
                    middle-section-sum={column.middleSectionSum}
                    bottom-section-sum={column.bottomSectionSum}
                    roll-count={rollCount}
                    announcement-string={announcementString}
                    announcement-required={announcementRequired}
                    all-boxes-disabled={allBoxesDisabled}
                    onboxclick={handleBoxClick}>
                </c-column>
            </template>
            <div class="last-column">
                <button class="roll-dice-button" 
                    title="Roll!" 
                    disabled={rollDiceButtonDisabled} 
                    onclick={handleRollDice}>
                    <lightning-icon
                        icon-name="utility:fallback"
                        class={rollCountTopClass}>
                    </lightning-icon>
                    <br/>
                    <br/>
                    <lightning-icon
                        icon-name="utility:fallback"
                        class={rollCountMiddleClass}>
                    </lightning-icon>
                    <br/>
                    <br/>
                    <lightning-icon
                        icon-name="utility:fallback"
                        class={rollCountBottomClass}>
                    </lightning-icon>
                </button>
                <c-label class="top-section-sum" value={topSectionSum}></c-label>
                <c-label class="middle-section-sum" value={middleSectionSum}></c-label>
                <div class="action-history">
                    <template for:each={actionHistoryTruncated} for:item="action">
                        <div key={action}>{action}</div>
                    </template>
                </div>
                <c-label class="bottom-section-sum" value={bottomSectionSum}></c-label>
            </div>
            <c-label class="total-sum" value={totalSum}></c-label>
        </div>
        <template if:true={debugModeEnabled}>
            <br/>
            Last Modified Date: <strong>{lastModifiedDate}</strong>
            <br/>
            Roll Count: <strong>{rollCount}</strong>
            <br/>
            Announcement: <strong>{announcementString}</strong>
            <br/>
            Announcement Required: <strong>{announcementRequired}</strong>
            <br/>
            Roll Dice Button Disabled: <strong>{rollDiceButtonDisabled}</strong>
            <br/> 
            All Boxes Disabled: <strong>{allBoxesDisabled}</strong>
            <br/> 
            All Dice Disabled: <strong>{allDiceDisabled}</strong>
            <br/> 
            Completed: <strong>{completed}</strong>
            <br/> 
        </template>
    </template>
</template>